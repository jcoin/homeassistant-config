
# This file was automatically generated by lovelace_migrate.py
# https://github.com/dale3h/python-lovelace

title: Home

resources:
  - url: /customcards/github/custom-cards/tracker-card.js?track=true
    type: module  
  - url: /customcards/github/thomasloven/card-tools.js?track=true
    type: js
  - url: /customcards/github/thomasloven/layout-card.js?track=true
    type: js
  - url: /customcards/github/thomasloven/gap-card.js?track=true?v=1
    type: js
  - url: /customcards/github/thomasloven/slider-entity-row.js?track=true
    type: js
  - url: /customcards/github/custom-cards/config-template-card.js?track=true
    type: js  
  - url: /customcards/github/thomasloven/useful-markdown-card.js?track=true
    type: js  

views:
  - title: default_view
    icon: mdi:home
    panel: true
    cards:
      - type: vertical-stack
        cards: 
          - type: custom:layout-card 
            layout: horizontal
            max columns: 2
            #horizontal-stack
            cards: 
               # Colonne Info+ Lumieres
               - type: vertical-stack
                 cards: 
                    - type: weather-forecast
                      entity: !secret meteo_entity
                    - type: weather-forecast
                      entity: weather.dark_sky
                    - type: glance
                      columns: 4
                      entities:
                         - person.fred
                         - entity: !secret lastfm_entity 
                           name: Musique 
                         - entity: sun.sun
                           name: Soleil
                         - entity: sensor.temp_salon
                           name: Temp. Salon
                         - entity: sensor.multisensor_temperature
                           name: Temp. Cuisine
                         - entity: sensor.multisensor_humidity
                           name: Hum.
                         - entity: sensor.multisensor_brightness
                           name: Lum.
                      show_state: true
                      show_icon: true
                    - type: custom:gap-card
                      height: 16f0
               #Colonne Media
               - type: vertical-stack
                 cards:
                    - type: custom:config-template-card
                      variables:
                         - states['media_player.mpd'].attributes['media_artist']
                         - states['media_player.mpd'].attributes['media_title']
                         - states['media_player.mpd'].state   
                      entities:   
                         - switch.atasson
                         - media_player.television
                         - switch.sonoff_t1_relay
                         - media_player.television
                         - switch.sonoff_t1_relay
                         - light.bureau
                         - light.cheminee
                         - light.plafond
                         - input_boolean.switch_walter
                         - input_number.music_volume
                         - media_player.mpd
                         
                      card: 
                        type: 'custom:hui-entities-card'
                        title: Interrupteurs
                        show_header_toggle: false
                        entities:
                          - type: section
                            label : Ecrans
                          - type: call-service
                            icon: mdi:power
                            name : PC
                            action_name: Allume PC
                            service: switch.turn_on  
                            service_data: 
                               entity_id: switch.atasson
                          - type: call-service
                            icon: mdi:power
                            name : Television
                            action_name: Allume TV
                            service: media_player.toggle  
                            service_data: 
                               entity_id: media_player.television
                          - type: section
                            label : Lumieres
      
                          - type: entity
                            icon: mdi:lightbulb
                            entity : switch.sonoff_t1_relay
                            name: Plafond Chambre
                          - type: custom:slider-entity-row
                            entity : light.bureau
                            name: Bureau
                            toggle: true
                          - type: custom:slider-entity-row
                            entity : light.cheminee
                            name: Salon
                            toggle: true
                            hide_state: false
                          - type: custom:slider-entity-row
                            entity : light.plafond
                            name: Cuisine
                            toggle: true
                          - type: section
                            label : Radio
                          - type: entity
                            entity: input_boolean.switch_walter
                          - type: entity
                            entity: input_number.music_volume                       
                          - type: entity
                            entity: media_player.mpd
                            name: "${vars[2] === 'off' || vars[2] === 'unavailable'  ? 'Music Daemon' : vars[0]+' '+ vars[1]}"
                                
          - type: custom:layout-card 
            layout: horizontal
            max columns: 3
            max_width: [25%, 50%, 25%]
            #horizontal-stack
            cards: 
               - type: custom:gap-card         
               - type: vertical-stack
                 cards:
                    - type: conditional
                      conditions:            
                        - entity: media_player.osmc
                          state_not: "off"
                        - entity: media_player.osmc
                          state_not: "idle"
                      card:
                        type: media-control
                        entity: media_player.osmc
                    - type: conditional
                      conditions:            
                        - entity: media_player.walter
                          state_not: "off"
                      card:
                        type: media-control
                        entity: media_player.walter
               - type: custom:gap-card                                                      
                 
  - title: system
    cards: 
        - type: history-graph
          entities: 
            - sensor.multisensor_temperature
            - sensor.temp_salon
        - type: custom:tracker-card
        - type: entities
          title: Controle
          show_header_toggle: true
          entities:
            - switch.mopidyctl
            - switch.radarrctl
            - switch.nasmountctl
            - switch.sonarrctl
            - switch.flux
            - device_tracker.00113207f619
            - device_tracker.0017884b4b45
            - binary_sensor.multisensor_motion
            - switch.zncctl
            - sensor.home_assistant_v2_db

        - type: entities
          title: Prises
          show_header_toggle: false
          entities: 
            - light.onoff_plug_1 
            - light.onoff_plug_2
            
        - type: entities
          title: Liens
          show_header_toggle: false
          entities: 
            - type: weblink
              name: Sabnzbd
              url: !secret sabnzbd_url 
            - type: weblink    
              name: Sonarr
              url: !secret sonarr_url 
            - type: weblink
              name: Kodi Remote
              url: !secret osmc_url 
            - type: weblink
              name: Radarr
              url: !secret radarr_url
            - type: weblink
              name: FreeboxOS
              url: http://mafreebox.freebox.fr
            - type: weblink
              name: Iris-Mopidy
              url: !secret mpd_url
            - type: weblink
              name:  Pi-hole 
              url: http://pi.hole/admin/index.php
            - type: weblink
              name:  znc 
              url: !secret znc_url
          

  - title: IOT Sensors
    cards:
        - type: entities
          title: CuisineSensor
          show_header_toggle: false
          entities:
            - sensor.esp_ip_address
            - sensor.multisensor_brightness
            - sensor.multisensor_humidity
            - light.multisensor_light
            - sensor.multisensor_temperature
            - binary_sensor.multisensor_motion
            - sensor.uptime_sensor_3

        - type: entities
          title: SensorTemperature
          show_header_toggle: false
          entities:
            - sensor.esp_ip_address_2
            - sensor.temp_salon
            - sensor.wifi_signal_sensor
            - sensor.uptime_sensor

        - type: entities
          title: SonoffChambre
          show_header_toggle: false
          entities:
            - sensor.esp_ip_address_3
            - light.sonoff_t1_led
            - switch.sonoff_t1_relay
            - binary_sensor.sonoff_t1_touchpad
            - sensor.uptime_sensor_4
        

        
